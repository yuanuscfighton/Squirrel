<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "UTF-8">
  <!-- Create 2024/2/9 16:01 -->
  <title>箭头函数</title>
</head>
<body>
  <script>
    // 声明一个函数
    let fn = (a, b) => {
      return a + b;
    }
    // 调用函数
    fn(1, 2);


    // 1.箭头函数 this 指向
    // 箭头函数的 this 是静态的，this 始终指向函数声明时 所在作用域下的 this 的值
    function foo1() {
      console.log(this.name);
    }

    let foo2 = () => {
      console.log(this.name);
    }

    window.name = '尚硅谷';
    const school = {
      name: 'ATGUIGU',
    }

    // 测试1：直接调用
    foo1(); // 打印输出“尚硅谷”，普通函数直接调用，this 指向 window
    foo2(); // 打印输出“尚硅谷”，因为箭头函数是在全局作用域下声明的，所以 this.name 是 window 上的 name 的值

    // 测试2：使用call方法
    foo1.call(school); // 打印输出“ATGUIGU”
    foo2.call(school); // 打印输出“尚硅谷”，即使使用了 call 函数，箭头函数中的 this 依然指向全局对象 window。
    // 即，this 始终指向 这个函数在声明时 所在作用域下的那个 this 值


    // 2.箭头函数中没有arguments
    let fn2 = () => {
      console.log(arguments);
    }
    fn2(1, 2, 3); // 打印输出：Uncaught ReferenceError: arguments is not defined


    // 3.箭头函数简写
    // （1）省略小括号，当形参有且只有一个的时候，
    let add = n => {
      return n + n;
    }

    // （2）省略花括号，当代码体只有一条语句的时候，此时return也必须省略
    let pow = n => n * n;

  </script>
</body>

</html>